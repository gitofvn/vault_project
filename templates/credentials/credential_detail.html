{% extends 'base.html' %}
{% block title %}{{ credential.site_name }}{% endblock %}

{% block layout %}
<div class="dashboard-wrapper">
    {% include 'common/base_navigation.html' %}

    <main class="dashboard-main">
        <div class="form-container">
            <!-- Title -->
            <h2 class="form-title">
                {% if credential.site_url %}
                    <img src="https://www.google.com/s2/favicons?sz=32&domain={{ credential.site_url }}" 
                         alt="favicon" style="width:28px; height:28px; margin-right:8px; vertical-align:middle; display:inline-block;">

                {% endif %}
                {{ credential.site_name }}
            </h2>

            <hr class="notes-separator">

            <!-- Read-only form for consistent styles -->
            <form class="note-form">
                <!-- Site Name -->
                <div class="input-group">
                    <label for="id_site_name">Site name:</label>
                    <input type="text" value="{{ credential.site_name }}" readonly class="textinput textInput">
                </div>

                <!-- Username -->
                <div class="input-group">
                    <label for="id_username">Username:</label>
                    <input type="text" value="{{ credential.username }}" readonly class="textinput textInput">
                </div>

                {% if credential.email %}
                <!-- Email -->
                <div class="input-group">
                    <label for="id_email">Email:</label>
                    <input type="text" value="{{ credential.email }}" readonly class="textinput textInput">
                </div>
                {% endif %}

                {% if credential.category %}
                <div class="input-group">
                    <label>Category:</label>
                    <input type="text" value="{{ credential.category.name }}" readonly>
                </div>
                {% endif %}

                {% if credential.phone_number %}
                <!-- Phone Number -->
                <div class="input-group">
                    <label for="id_phone_number">Phone Number:</label>
                    <input type="text" value="{{ credential.phone_number }}" readonly class="textinput textInput">
                </div>
                {% endif %}

                {% if credential.site_url %}
                <!-- Site URL -->
                <div class="input-group">
                    <label for="id_site_url">Site URL:</label>
                    <input type="text" value="{{ credential.site_url }}" readonly class="textinput textInput">
                </div>
                {% endif %}

                {% if credential.other %}
                <!-- Other -->
                <div class="input-group">
                    <label for="id_other">Other:</label>
                    <input type="text" value="{{ credential.other }}" readonly class="textinput textInput">
                </div>
                {% endif %}

                <!-- Password -->
                <div class="input-group">
                    <label for="id_password">Password:</label>
                    <input type="text" value="{{ decrypted_password }}" readonly class="textinput textInput">
                </div>
            </form>

            <hr class="notes-separator">

            <!-- Actions -->
            <div class="note-actions">
                <a href="{% url 'credential-edit' credential.pk %}" class="note-btn">Edit</a>
                <a href="{% url 'credential-delete' credential.pk %}" class="note-btn">Delete</a>
                <a href="{% url 'credential-list' %}" class="note-btn">Back to Credentials</a>
            </div>
        </div>
    </main>
</div>
{% endblock %}
